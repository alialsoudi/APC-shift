<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Shift Calendar</title>

<script src="https://cdn.tailwindcss.com"></script>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">

<style>
body{
    font-family:'Inter',sans-serif;
    background:#f4f6f8;
}

/* Container */
.card{
    background:#ffffff;
    border-radius:12px;
    border:1px solid #e5e7eb;
}

/* Calendar cell â€“ compact & square */
.day-cell{
    aspect-ratio:1/1;
    border-radius:6px;
    padding:4px 2px;
    display:flex;
    flex-direction:column;
    justify-content:space-between;
    align-items:center;
    font-weight:600;
    text-align:center;
}

/* Day number */
.day-number{
    font-size:11px;
    font-weight:700;
    color:#111827;
}

/* Shift text */
.shift-label{
    font-size:8px;
    letter-spacing:.08em;
    font-weight:700;
    text-transform:uppercase;
}

/* Soft colors */
.shift-morning{
    background:#dcfce7;
    color:#166534;
}

.shift-afternoon{
    background:#dbeafe;
    color:#1e40af;
}

.shift-night{
    background:#fef3c7;
    color:#92400e;
}

.shift-off{
    background:#f3f4f6;
    color:#6b7280;
}
</style>
</head>

<body class="antialiased">

<div class="max-w-md mx-auto px-2 py-4 space-y-4">

<!-- Header -->
<div class="text-center">
    <h1 class="text-xl font-bold">Shift Calendar</h1>
    <p class="text-[10px] text-gray-400">Compact Monthly View</p>
</div>

<!-- Controls -->
<div class="card p-3 space-y-2">
    <select id="shiftSelect" class="w-full rounded-md border px-3 py-2 text-xs font-semibold">
        <option value="A">Group A</option>
        <option value="B">Group B</option>
        <option value="C">Group C</option>
        <option value="D">Group D</option>
    </select>

    <input type="month" id="monthPicker"
           class="w-full rounded-md border px-3 py-2 text-xs font-semibold">
</div>

<!-- Calendar -->
<div class="card">

    <!-- Month header -->
    <div id="calendarHeader"
         class="text-center py-2 font-semibold text-sm border-b"></div>

    <!-- Week days -->
    <div class="grid grid-cols-7 text-center text-[9px] font-semibold text-gray-400 border-b">
        <div>Sun</div><div>Mon</div><div>Tue</div>
        <div>Wed</div><div>Thu</div><div>Fri</div><div>Sat</div>
    </div>

    <!-- Days -->
    <div id="calendarGrid" class="grid grid-cols-7 gap-[2px] p-[2px]"></div>
</div>

</div>

<script>
const refDate = new Date(2025,11,18);
const sequence = ['A','A','A','M','M','M','O','O','O','N','N','N'];
const groupOffsets = {A:0,B:3,C:6,D:9};
const shiftLabels = {M:'Morning',A:'Afternoon',N:'Night',O:'Off'};

const monthPicker = document.getElementById('monthPicker');
const shiftSelect = document.getElementById('shiftSelect');
const calendarGrid = document.getElementById('calendarGrid');

const now = new Date();
monthPicker.value = `${now.getFullYear()}-${String(now.getMonth()+1).padStart(2,'0')}`;

function render(){
    const [y,m] = monthPicker.value.split('-').map(Number);
    const first = new Date(y,m-1,1);
    const days = new Date(y,m,0).getDate();
    const start = first.getDay();

    document.getElementById('calendarHeader').innerText =
        first.toLocaleString('en-US',{month:'long',year:'numeric'});

    calendarGrid.innerHTML='';

    for(let i=0;i<start;i++){
        calendarGrid.innerHTML+='<div></div>';
    }

    for(let d=1;d<=days;d++){
        const cur = new Date(y,m-1,d);
        let idx = Math.floor((cur-refDate)/(86400000)) + groupOffsets[shiftSelect.value];
        idx = ((idx%12)+12)%12;

        const t = sequence[idx];
        const cls = t==='M'?'shift-morning':t==='A'?'shift-afternoon':t==='N'?'shift-night':'shift-off';

        calendarGrid.innerHTML += `
        <div class="day-cell ${cls}">
            <div class="day-number">${d}</div>
            <div class="shift-label">${shiftLabels[t]}</div>
        </div>`;
    }
}

[monthPicker,shiftSelect].forEach(e=>e.addEventListener('change',render));
render();
</script>

</body>
</html>